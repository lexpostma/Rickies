@use "variables" as var;

@mixin slider-thumb {
	-webkit-appearance: none;
	outline: none;
	cursor: pointer;
	cursor: ew-resize;
	height: 32px;
	width: 38.34px;
	border: 1px solid red;
	background: none;
	background-image: url('/images/connected-globe.png');
	background-size: contain;
	background-repeat: no-repeat;
	filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.25));
	margin-top: -14px;
	@media screen and (min-width: var.$break-md) {
		margin-top: -18px;
		height: 40px;
		width: 47.925px;
	}
	@media (hover: hover) {
		transition: var.$pop-transition;
		&:hover {
			transform: scale(1.1);
		}
		&:active {
			transform: scale(1.2);
		}
	}
}

@mixin slider-track {
	width: 100%;
	height: 4px;
	@media screen and (min-width: var.$break-md) {
		height: 6px;
	}
	cursor: pointer;

	border-color: transparent;
	color: transparent;
	background: #d6d6d6;
	box-shadow: inset -1px 1px 2px rgba(0, 0, 0, 0.25);
	border-radius: 4px;
	@media (prefers-color-scheme: dark) {
		background: #515151;
	}
}

aside.slider {
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	background: #fff;
	#rule_slider {
		padding: 8px 24px 20px;
		padding-bottom: max(20px, #{var.$iX-bottom});
		max-width: var.$readability-width;
		margin: 0 auto;
		label {
			display: block;
			text-align: center;
			color: var(--text-primary-color);
			margin-bottom: 8px;
		}
		@media screen and (min-width: var.$break-md) {
			padding: 16px 32px 24px;
			padding-bottom: max(24px, #{var.$iX-bottom});
			label {
				margin-bottom: 16px;
			}
		}
		// Reset the styling
		// Via https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/
		input[type='range'] {
			-webkit-appearance: none; /* Hides the slider so that custom slider can be made */
			width: 100%; /* Specific width is required for Firefox. */
			background: transparent; /* Otherwise white in Chrome */
			outline: none;
			&::-webkit-slider-thumb {
				@include slider-thumb;
			}
			&::-moz-range-thumb {
				@include slider-thumb;
			}
			&::-ms-thumb {
				@include slider-thumb;
			}

			&::-webkit-slider-runnable-track {
				@include slider-track;
			}
			&::-moz-range-track {
				@include slider-track;
			}
			&::-ms-track {
				@include slider-track;
			}
			&::-ms-fill-lower {
				@include slider-track;
			}
			&::-ms-fill-upper {
				@include slider-track;
			}

			&:focus {
				outline: none;
			}
		}
	}
	@media (prefers-color-scheme: dark) {
		background: black;
		box-shadow: none;
		border-top: 1px solid var(--text-primary-color);
	}
}
